!function(){"use strict";function e(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}e(function(){const e=document.getElementById("navToggle"),t=document.getElementById("navMenu");e&&t&&e.addEventListener("click",function(){t.classList.toggle("active")})});let t=!1;e(function(){const e=window.location.pathname,t=document.querySelectorAll(".nav-link");if(0!==t.length)for(let n=0;n<t.length;n++){const i=t[n];i.classList.remove("active");const o=new URL(i.href).pathname;if(e===o||e.startsWith(o)&&"/"!==o){i.classList.add("active");break}}}),document.querySelector(".chapter-content")&&e(function(){const e=document.querySelector("article .content");if(!e)return;const n=document.createElement("div");n.className="reading-progress",n.innerHTML='<div class="reading-progress-bar"></div>',n.style.cssText="\n            position: fixed;\n            top: 70px;\n            left: 0;\n            width: 100%;\n            height: 3px;\n            background: rgba(45, 90, 39, 0.1);\n            z-index: 99;\n        ";const i=n.querySelector(".reading-progress-bar");i.style.cssText="\n            height: 100%;\n            background: var(--primary-green);\n            width: 0%;\n            transition: width 0.1s ease;\n        ",document.body.appendChild(n);let o,s=0,a=0;function c(){s=e.offsetHeight,a=window.innerHeight}function r(){t||(requestAnimationFrame(()=>{const n=e.getBoundingClientRect().top,o=Math.max(0,Math.min(1,(a-n)/(s+a)));i.style.width=100*o+"%",t=!1}),t=!0)}c(),window.addEventListener("resize",function(){clearTimeout(o),o=setTimeout(c,250)},{passive:!0}),window.addEventListener("scroll",r,{passive:!0}),r()}),document.addEventListener("click",function(e){if("A"===e.target.tagName&&e.target.hash){const t=e.target.hash.substring(1),n=document.getElementById(t);n&&(e.preventDefault(),n.scrollIntoView({behavior:"smooth",block:"start"}))}})}();